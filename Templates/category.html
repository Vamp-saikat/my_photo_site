{% extends 'base.html' %}

{% block head %}
<style>
    .photo-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
    .photo-card { height: 350px; perspective: 1000px; }
    .card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
    .photo-card:hover .card-inner { transform: rotateY(180deg); }
    .card-front, .card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 10px; overflow: hidden; }
    .card-front img { width: 100%; height: 100%; object-fit: cover; }
    .card-back { background: #222; transform: rotateY(180deg); padding: 20px; display: flex; flex-direction: column; justify-content: center; text-align: center; border: 1px solid #444; }
    .no-photos { padding: 50px; text-align: center; color: #666; border: 2px dashed #333; border-radius: 15px; }
</style>
{% endblock %}

{% block content %}
    <h1 class="mb-4">Category: <span style="color: #00d4ff;">{{ category_name }}</span></h1>
    
    {% if photos %}
    <div class="photo-grid">
        {% for photo in photos %}
        <div class="photo-card">
            <div class="card-inner">
                <div class="card-front">
                    <img src="{{ url_for('static', filename='uploads/' + photo.filename) }}">
                </div>
                <div class="card-back">
                    <h5>{{ photo.location }}</h5>
                    <p>{{ photo.desc }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="no-photos">
        <h3>No photos uploaded in this category yet.</h3>
        <p>Go to the Upload section to add some!</p>
    </div>
    {% endif %}
{% endblock %}